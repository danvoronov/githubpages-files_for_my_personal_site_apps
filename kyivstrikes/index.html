<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–±—Å—Ç—Ä—ñ–ª–∏ –ö–∏—î–≤–∞ - –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∞</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.css" />
    <link rel="stylesheet" href="styles.css">
    <!-- mobile-only additions -->
    <link rel="stylesheet" href="styles.mobile.css?v=2">
    <script defer src="https://cloud.umami.is/script.js" data-website-id="57374ad4-c82a-4265-9cd9-f5bbcd60fc69"></script>
</head>
<body>
    <div id="loading" class="loading">
        <div>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö...</div>
    </div>

    <div id="mobileMessage" class="mobile-message">
        <p>–¶—ñ –¥–∞–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç—ñ –∞–±–æ –∫–æ–º–ø'—é—Ç–µ—Ä—ñ.</p>
        <p>–ë—É–¥—å –ª–∞—Å–∫–∞, –≤—ñ–¥–∫—Ä–∏–π—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó –∑ –±—ñ–ª—å—à–∏–º –µ–∫—Ä–∞–Ω–æ–º.</p>
    </div>

    <!-- Mobile navigation (hidden on desktop) -->
    <nav class="mobile-nav" id="mobileNav" aria-label="–ú–æ–±—ñ–ª—å–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è">
        <button type="button" class="mobile-nav-btn" data-card="map" aria-controls="map" aria-label="–ö–∞—Ä—Ç–∞">üó∫Ô∏è<span>–ú–∞–ø–∞</span></button>
        <button type="button" class="mobile-nav-btn" data-card="filters" aria-controls="filtersPanel" aria-label="–§—ñ–ª—å—Ç—Ä–∏">‚öôÔ∏è<span>–§—ñ–ª—å—Ç—Ä–∏</span></button>
        <button type="button" class="mobile-nav-btn" data-card="info" aria-controls="detailsPanel" aria-label="–Ü–Ω—Ñ–æ">‚ÑπÔ∏è<span>–Ü–Ω—Ñ–æ</span></button>
    </nav>

    <!-- Mobile top bar (shown on Filters and Info cards) -->
    <div class="mobile-topbar" id="mobileTopBar">
        <button type="button" class="mobile-back-btn" id="mobileBackToMap" aria-label="–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –Ω–∞ –º–∞–ø—É">‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –Ω–∞ –º–∞–ø—É</button>
    </div>

    <div id="map"></div>
    
    <div class="filters-panel" id="filtersPanel">
        <!-- Mobile date pickers (visible only on mobile) -->
        <div class="mobile-date-pickers" id="mobileDatePickers">
            <div class="mobile-date-field">
                <label for="mobileStartDate">–î–∞—Ç–∞ –≤—ñ–¥:</label>
                <input type="date" id="mobileStartDate" />
            </div>
            <div class="mobile-date-field">
                <label for="mobileEndDate">–î–∞—Ç–∞ –¥–æ:</label>
                <input type="date" id="mobileEndDate" />
            </div>
        </div>
        <div class="filter-group">
            <label>–ó–±—Ä–æ—è:</label>
            <div class="button-group" id="weaponFilter">
                <button value="all" class="active" title="–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å–µ">–í—Å–µ</button>
                <button value="rocket" title="–†–∞–∫–µ—Ç–∏"><img src="img/rocket.png" alt="–†–∞–∫–µ—Ç–∏"></button>
                <button value="drone" title="–î—Ä–æ–Ω–∏"><img src="img/shahed.jpg" alt="–î—Ä–æ–Ω–∏"></button>
                <button value="other" title="–Ü–Ω—à–µ">–Ü–Ω—à–µ</button>
            </div>
        </div>
        <div class="filter-group">
            <label>–ß–∞—Å –¥–æ–±–∏:</label>
            <div class="button-group" id="timeOfDayFilter">
                <button value="all" class="active">–ë—É–¥—å-—è–∫–∏–π</button>
                <button value="day" title="–î–µ–Ω—å">üèôÔ∏è</button>
                <button value="night" title="–ù—ñ—á">üåÉ</button>
            </div>
        </div>
        <div class="filter-group-row">
            <div class="filter-group">
                <label for="woundedFilter">–ü–æ—Ä–∞–Ω–µ–Ω–∏—Ö (–≤—ñ–¥):</label>
                <div class="input-with-reset">
                    <input type="number" id="woundedFilter" min="0" placeholder="0">
                    <button class="reset-btn" data-target="woundedFilter" title="–°–∫–∏–Ω—É—Ç–∏">&#10005;</button>
                </div>
            </div>
            <div class="filter-group">
                <label for="killedFilter">–ó–∞–≥–∏–±–ª–∏—Ö (–≤—ñ–¥):</label>
                <div class="input-with-reset">
                    <input type="number" id="killedFilter" min="0" placeholder="0">
                    <button class="reset-btn" data-target="killedFilter" title="–°–∫–∏–Ω—É—Ç–∏">&#10005;</button>
                </div>
            </div>
        </div>
        
        <!-- Auto-zoom checkbox for desktop -->
        <div class="filter-group auto-zoom-group">
            <label class="auto-zoom-label">
                <input type="checkbox" id="autoZoomFilter" checked>
                <span>–ê–≤—Ç–æ–∑—É–º –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä—ñ–≤</span>
            </label>
        </div>
    </div>

    <div id="detailsPanel" class="details-panel">
        <div class="details-placeholder">–ö–ª—ñ–∫–Ω—ñ—Ç—å –ø–æ –±—É–¥—å-—è–∫—ñ–π —Ç–æ—á—Ü—ñ –¥–ª—è –ø–æ–¥—Ä–æ–±–∏—Ü—å</div>
    </div>

    <div class="legend" id="legend">
        <div class="legend-title">–†–æ–∫–∏ –æ–±—Å—Ç—Ä—ñ–ª—ñ–≤</div>
        <div class="legend-items" id="legendItems">
            <!-- –≠–ª–µ–º–µ–Ω—Ç—ã –ª–µ–≥–µ–Ω–¥—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>

    <div class="info-panel" id="infoPanel">
        <div class="info-details" id="infoDetails">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
        <div class="info-title" id="infoTitle" title="–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö..."></div>
    </div>

    <div class="reset-zoom-btn" id="resetZoomBtn" title="–°–∫–∏–Ω—É—Ç–∏ –º–∞—Å—à—Ç–∞–±: –ø–æ–∫–∞–∑–∞—Ç–∏ –≤–µ—Å—å –ö–∏—ó–≤">
        <img src="img/reset_zoom.png" alt="–°–∫–∏–Ω—É—Ç–∏ –º–∞—Å—à—Ç–∞–±" width="20" height="20">
    </div>


    <div class="date-filter">
        <div class="filter-container">
            <span id="minDateLabel" class="date-label"></span>
            <div class="date-range-container">
                <div class="date-range-track">
                    <div class="date-range-selected" id="selectedRange"></div>
                </div>
                <div class="year-marks" id="yearMarks"></div>
                <div class="date-handle" id="startHandle">
                    <div class="handle-tooltip" id="startHandleTooltip"></div>
                </div>
                <div class="date-handle" id="endHandle">
                    <div class="handle-tooltip" id="endHandleTooltip"></div>
                </div>
            </div>
            <span id="maxDateLabel" class="date-label"></span>
        </div>
    </div>

    <div class="mobile-filters-summary" id="mobileFiltersSummary"></div>

    <div class="disclaimer" id="disclaimer">
        –î–∞–Ω—ñ –∞–≥—Ä–µ–≥—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ <a href="https://uk.wikipedia.org/wiki/%D0%9E%D0%B1%D1%81%D1%82%D1%80%D1%96%D0%BB%D0%B8_%D0%9A%D0%B8%D1%94%D0%B2%D0%B0" target="_blank">Wikipedia</a>.<br>–ú–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –ø—Ä–æ–ø—É—Å–∫–∏.
    </div>

    <!-- Leaflet JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.js"></script>
    <script type="module" src="app.js"></script>
  <!-- Mobile UI module: only adds mobile behavior; desktop unaffected -->
  <script type="module" src="js/mobile-ui.js"></script>
</body>
</html>